<div class="Permission-container container-fluid pb-3">
  <!-- Roles & Permission Header with Role Selection -->
  <div class="py-md-4 pb-4 mt-4 me-2 row justify-content-between align-items-center">
    <div class="col-md-6 col-auto">
      <h3 class="ms-2  py-2">Roles & Permission</h3>
    </div>
    <div class="col-md-6 col-auto text-md-end">
      <mat-form-field class="w-100 furdeco-custom-field" appearance="outline">
        <mat-label>Select Role</mat-label>
        <input type="text" matInput [formControl]="roleControl" [matAutocomplete]="autoRole">
        <mat-autocomplete #autoRole="matAutocomplete" [displayWith]="displayRoleFn"
          (optionSelected)="onRoleSelected($event)">
          <mat-option *ngFor="let role of filteredRoles | async" [value]="role">
            {{ role.name }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </div>
  </div>

 

  <!-- Permissions List -->
<div class="p-4 Permissions-List">
  <div class="row">
    <!-- Column Headers -->
    <div class="col-md-3 fw-bold">Module</div>
    <div class="col-md-3 fw-bold">View</div>
    <div class="col-md-3 fw-bold">Edit</div>
    <div class="col-md-3 fw-bold">Add</div>
  </div>

  @for(menu of menuData;track menu){
    @if(menu.form!='User' && menu.form!='Role' && menu.form!='User Permission' && menu.form!='Dashboard'){
      <div class="row border-bottom py-2 align-items-center">
        <!-- Module Name -->
        <div class="col-md-3">{{ menu.form }}</div>

        <!-- View Checkbox -->
        <div class="col-md-3">
          <mat-checkbox class="checkbox fs-6" (change)="onCheckboxChange($event, menu, 'view')"
            [checked]="menu.view">
            View
          </mat-checkbox>
        </div>

        <!-- Edit Checkbox (Visible if not 'Reports' or 'Employees') -->
        <div class="col-md-3">
          @if(menu.form!='Reports' && menu.form!='Employees'){
            <mat-checkbox class="checkbox fs-6" (change)="onCheckboxChange($event, menu, 'edit')"
              [checked]="menu.edit">
              Edit
            </mat-checkbox>
          }
        </div>

        <!-- Add Checkbox (Visible if not 'Reports' or 'Employees') -->
        <div class="col-md-3">
          @if(menu.form!='Reports' && menu.form!='Employees'){
            <mat-checkbox class="checkbox fs-6" (change)="onCheckboxChange($event, menu, 'add')"
              [checked]="menu.add">
              Add
            </mat-checkbox>
          }
        </div>
      </div>
    }
  }
</div>


  <div class="col-12 col-md-12 mt-lg-0 mt-3 text-end">
    <button [disabled]="roleId!==1" class="px-4 btn btn-primary" type="button" (click)="savePermission()">
      Save Permissions
    </button>
  </div>
</div>